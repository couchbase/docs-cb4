<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couchbase Documentation</title>
    <link rel="stylesheet" href="../../_/css/site.css">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="shortcut icon" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="57x57" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/webfiles/1498186094252/images/icons/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/favicon-16x16.png">
<link rel="manifest" href="https://developer.couchbase.com/webfiles/1498186094252/images/icons/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/webfiles/1498186094252/images/icons/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!--    _____________________________
_______/ Support for legacy browsers \_______________________________________-->
<!--[if lte IE 8]>
<script type="text/javascript" charset="utf-8" src="/webfiles/1498186094252/js/thirdparty/vendor/html5shiv.js" />
<script type="text/javascript" charset="utf-8" src="/webfiles/1498186094252/js/thirdparty/vendor/respond.js" />
<![endif]-->
<!--[if IE 9]>
<script type="text/javascript" charset="utf-8" src="/webfiles/1498186094252/js/thirdparty/classList.js" />
<![endif]-->
<!--_________________________________________________________________________-->
<script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" charset="utf-8" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/jquery-migrate.js"></script>
<script type="text/javascript" charset="utf-8" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/slick.js"></script>
<script type="text/javascript" charset="utf-8" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/isotope.min.js"></script>
<script type="text/javascript" charset="utf-8" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/imagesloaded.min.js"></script>

<meta name="apple-mobile-web-app-title" content="Couchbase">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google-site-verification" content="1gPO0RaMzKyZJFpS-iyIEnPsWDztwZH0R3vG1VpSwvM" />

<!-- LOCAL CSS Libs -->
<link rel="stylesheet" href="https://developer.couchbase.com/webfiles/1498186094252/css/styles.css">

<!-- Default canonical comes from the URL -->
<link rel="canonical" href="http://developer.couchbase.com"/>
<title>Couchbase</title>
<link rel="stylesheet" href="https://developer.couchbase.com/binaries/content/assets/css/overrides.css">
  </head>
  <body style="padding: 0 !important;">
<!-- Google Tag Manager -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0"
          width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager -->
<script>
  var overrideJsPath = "/binaries/content/assets/js/overrides.js";
  $.ajax({
    url: overrideJsPath,
    type: 'HEAD',
    error: function () {
    },
    success: function () {
      // file exists
      $.getScript(overrideJsPath);
    }
  });
</script>
<!--    ________________
_______/ INCLUDE HEADER - BODY - FOOTER \____________________________________________________-->
<!-- begin - include ref= -->
<nav class="aux">
  <div>
  </div>
</nav>
<!-- Beginning of site.../jsp/base/header.jsp -->
<header id="global-header" class="global-header dev-portal">
  <div class="layout-wrapper">
    <div class="global-header__logo">
      <a href='http://www.couchbase.com'>Couchbase</a>
      <a href='index.html'>Developer</a>

    </div>

    <a data-modules="navigation,globalheadersearch"></a>
    <nav role="navigation" id="primary-navigation" class="primary-navigation">
      <button aria-controls="primary-navigation__wrapper"
              aria-pressed="false"
              class="primary-navigation__toggler"
              type="button">

        <span>Menu</span>
      </button>
      <div id="primary-navigation__wrapper"
           class="primary-navigation__wrapper"
           aria-expanded="false">

        <ul class="primary-navigation__items">
          <li class="primary-navigation__item ">

            <a href="https://developer.couchbase.com/documentation/server/current/introduction/intro.html">Server</a>
          </li>
          <li class="primary-navigation__item ">

            <a href="https://developer.couchbase.com/mobile">Mobile</a>
          </li>
          <li class="primary-navigation__item has-secondary-navigation">

            <a href="https://developer.couchbase.com/community">Community</a>
            <div class="secondary-navigation">
              <ul class="secondary-navigation__items">
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/open-source-projects">Open Source Projects</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/contribute">Contribute</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="http://www.couchbase.com/nosql-resources/events">Events</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/experts-and-champions">Experts &amp; Champions</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="http://forums.couchbase.com/">Forums</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="http://blog.couchbase.com">Blogs</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/support">Support</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="primary-navigation__item has-secondary-navigation">

            <a href="https://developer.couchbase.com/guides-and-references">Site Map</a>
            <div class="secondary-navigation">
              <ul class="secondary-navigation__items">
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/guides-and-references#section-1">Couchbase Server</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/guides-and-references#section-2">Couchbase Mobile</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/guides-and-references#subsection-1-3">SDKs</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/guides-and-references#subsection-1-5">Connectors</a>
                </li>
                <li class="secondary-navigation__item">
                  <a href="https://developer.couchbase.com/documentation-archive">Documentation Archive</a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
        <form id="global-header-search"
              autocomplete="off"
              class="global-header-search global-header-search--js"
              action="https://developer.couchbase.com/search"
              aria-expanded="false">
          <ul><!--
            ---><li>
            <label for="global-header-search__query">
              Search query
            </label>
            <input
              type="search"
              placeholder="Search"
              name="q"
              value=""
              id="global-header-search__query">
          </li><!--
                ---><li>
            <button type="submit">
              <span>Search</span>
            </button>
          </li><!--
        ---></ul>
          <button aria-controls="global-header-search__items"
                  aria-pressed="false"
                  class="global-header-search__toggler"
                  type="button">
            <span>Search</span>
          </button><!--
        --->

          <div style="display: none" about="custom-search-fields">

            <input type="hidden"
                   name="cx"
                   value="017928787631531434501:3e7lwhjxsom" />
            <input type="hidden"
                   name="cof"
                   value="FORID:11" />
            <input type="hidden"
                   name="safe"
                   value="off" />
            <input type="hidden"
                   name="form_build_id"
                   value="form-RrbKDUhO3kB2MiqBdZHIQI9L4LFE7c3L_s87N2B9BZo" />
            <input type="hidden"
                   name="form_id"
                   value="google_cse_results_searchbox_form" />
            <input type="hidden"
                   name="siteurl"
                   value='developer.couchbase.com' />

          </div>
        </form>
      </div>
    </nav>
    <a class="global-header__download-button" href="https://developer.couchbase.com/downloads">
      Download
    </a>
  </div>
</header>
<div class="main-wrapper">
<div class="navigation-container">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <span class="nav-text"></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Couchbase Operator User&#8217;s Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="prerequisiteAndSetup.html">Prerequisites and Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="installKubernetes.html">Kubernetes Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="installKubernetesNoRBAC.html">Kubernetes Setup (RBAC Disabled)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="installOpenShift.html">OpenShift Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operatorConfig.html">Couchbase Operator Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="deployingCouchbase.html">Deploying a Couchbase Cluster</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="couchbaseClusterConfig.html">CouchbaseCluster Configuration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="clusterStatusGuide.html">Displaying the Status of a CouchbaseCluster</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="listAndDescribe.html">Viewing the Pods/Services Created</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cbopctl.html">Ensuring Valid CouchbaseCluster Configurations With cbopctl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="accessingCouchbase.html">Accessing Couchbase</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="adminConsoleAccess.html">Using the Couchbase Web Console</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="couchbaseCliGuide.html">Using the Couchbase CLI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="couchbaseClients.html">Using Couchbase Clients</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="runningCouchbase.html">Running Couchbase on Kubernetes or OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="scalingCouchbase.html">Scaling a CouchbaseCluster</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nodeRecovery.html">Recovering from a Node Failure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="updatingCouchbase.html">Updating a CouchbaseCluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="deleteCouchbaseCluster.html">Deleting a CouchbaseCluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="logsTroubleshooting.html">Logs and Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="conditionsAndEvents.html">Conditions and Events</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="demo.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="releaseNotes.html">v0.8 Beta Release Notes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="current">
    <span class="title">Couchbase Operator User&#x27;s Guide</span>
    <span class="version">0.8</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Couchbase Operator User's Guide</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../beta/overview.html">beta</a>
        </li>
        <li class="version is-current">
          <a href="overview.html">0.8</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Home</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../home/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation" style="display: none;">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb">Couchbase Operator User&#8217;s Guide</li>
    <li class="crumb"><a href="deployingCouchbase.html">Deploying a Couchbase Cluster</a></li>
    <li class="crumb"><a href="clusterStatusGuide.html">Displaying the Status of a CouchbaseCluster</a></li>
  </ul>
</nav>
</div>
    <div class="body">
      <style>
        .doc h1 > a.anchor,
        .doc h2 > a.anchor,
        .doc h3 > a.anchor,
        .doc h4 > a.anchor,
        .doc h5 > a.anchor,
        .doc h6 > a.anchor {
          position: absolute;
          text-decoration: none;
          width: 1.75ex;
          margin-left: -1.5ex;
          visibility: hidden;
          font-size: 0.8em;
        }

        .doc h1 > a.anchor::before,
        .doc h2 > a.anchor::before,
        .doc h3 > a.anchor::before,
        .doc h4 > a.anchor::before,
        .doc h5 > a.anchor::before,
        .doc h6 > a.anchor::before {
          content: "\00a7";
        }

        .doc h1:hover > a.anchor,
        .doc h2:hover > a.anchor,
        .doc h3:hover > a.anchor,
        .doc h4:hover > a.anchor,
        .doc h5:hover > a.anchor,
        .doc h6:hover > a.anchor {
          visibility: visible;
        }
      </style>

<article class="doc">
<div class="sect1">
<h2 id="couchbasecluster-status"><a class="anchor" href="#couchbasecluster-status"></a>CouchbaseCluster Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kubernetes users often need to check the status of various objects (such
as pods, deployments, and StatefulSets) that have been deployed inside
their Kubernetes clusters. Status checking is done by <em>describing</em> one
of the objects in the cluster using <code>kubectl describe</code> command.</p>
</div>
<div class="paragraph">
<p>The <code>kubectl describe</code> command outputs the configuration for the
specified object, a status section, and an event section. The status
section varies depending on the object type and shows various health
metrics related to the object described. The events sections is printed
last and shows major events that have happened during the life of the
object.</p>
</div>
<div class="paragraph">
<p>Since the Couchbase Operator registers a CouchbaseCluster Custom
Resource Definition (CRD) with Kubernetes, it allows Kubernetes to know
about Couchbase clusters natively. This means that the CouchbaseCluster
becomes another object that can be described to get the configuration,
status, and events specific to a particular Couchbase cluster.</p>
</div>
<div class="paragraph">
<p>To describe a Couchbase cluster named <code>cb-example</code>, run the following
command:</p>
</div>
<div class="paragraph">
<p>On Kubernetes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl describe couchbasecluster cb-example</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the object name in the above command is <code>couchbasecluster</code>.
You can also use the shorthand name <code>cbc</code> as the object name to save
some typing.</p>
</div>
<div class="paragraph">
<p>On Kubernetes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl describe cbc cb-example</code></pre>
</div>
</div>
<div class="paragraph">
<p>On OpenShift:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc describe cbc cb-example</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an example of the output of the <code>kubectl describe</code> command. The
various parts of the output and their significance will be discussed in
detail in the following sections.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Name:       cb-example
Kind:       CouchbaseCluster
Spec:   ...
Status:
  Admin Console Port:       30239
  Admin Console Port SSL:   31628
  Buckets:
    Default:
      Conflict Resolution:  seqno
      Enable Flush:     true
      Enable Index Replica: false
      Eviction Policy:      fullEviction
      Io Priority:      high
      Memory Quota:     128
      Name:         default
      Replicas:         1
      Type:         couchbase
  Cluster Id:           9ae7fe4634e0360cf9c9245cb4ebb27b
  Conditions:
    ...
    Message:            Data is equally distributed across all nodes in the cluster
    Reason:         Cluster is balanced
    Status:         True
    Type:           Balanced
  Control Paused:       false
  Current Version:      enterprise-5.0.1
  Members:
    Ready:
      cb-example-0000
      cb-example-0001
      cb-example-0002
  Phase:        Running
  Reason:
  Size:         3
  Events:
  FirstSeen LastSeen    Count   From            Type        Reason          Message
  --------- --------    -----   ----            --------    ------          -------
  21m       21m     1   couchbase-operator  Normal      NewMemberAdded      New member cb-example-0000 added to cluster</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="status-and-events"><a class="anchor" href="#status-and-events"></a>Status And Events</h3>
<div class="paragraph">
<p>Often when the status spec of the schema is updated, an associated event
is generated which details the reason why the change occurred. For
instance, increasing the size of the cluster causes an add member event
to appear in the Events section of the status result. The following
section explains the information provided in the status response, along
with any events associated with value updates.</p>
</div>
<div class="sect3">
<h4 id="admin-console"><a class="anchor" href="#admin-console"></a>Admin Console</h4>
<div class="literalblock">
<div class="content">
<pre>Admin Console Port: 30239
Admin Console Port SSL: 31628</pre>
</div>
</div>
<div class="paragraph">
<p>These ports are used for exposing the Couchbase cluster’s web console.
This section of the status is only visible when the <code>exposeAdminConsole</code>
setting of the cluster spec is enabled. See
<a href="adminConsoleAccess.html" class="page">Accessing the Couchbase Web Console</a> for
information on how to expose and access the Couchbase Server Web
Console.</p>
</div>
<div class="paragraph">
<p>Enabling and disabling the <code>exposeAdminConsole</code> setting produces the
following events, respectively:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Events:
  ...  ServiceCreated       Service for admin console `cb-example-ui` was created
  ...  ServiceDeleted       Service for admin console `cb-example-ui` was deleted</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="buckets"><a class="anchor" href="#buckets"></a>Buckets</h4>
<div class="literalblock">
<div class="content">
<pre>Buckets:
  Default:
    Memory Quota:       128
    Name:           default
    ...</pre>
</div>
</div>
<div class="paragraph">
<p>A list of buckets currently active within the Couchbase cluster. The
values of the bucket status are the same as the values provided in the
bucket specification. See
<a href="couchbaseClusterConfig.html" class="page">CouchbaseCluster Configuration</a> for
details about the bucket specification. When buckets from the
specification are added, updated, or removed the following events are
generated, respectively:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Events:
  ... BucketCreated     A new bucket `default` was created
  ... BucketEdited      Bucket `default` was edited
  ... BucketDeleted     Bucket `default` was deleted</pre>
</div>
</div>
<div class="paragraph">
<p>The bucket section of the status only reflects valid changes that have
been made to the cluster. In the case of attempts to update the bucket
section with an invalid specification, the following message will be
seen in the <code>Conditions</code> section of the Status:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Conditions:
  Message:  Bucket: default cannot change (default) bucket param='conflictResolution' from 'seqno' to 'timestamp'
  Reason:       Bucket edit failed
  Status:       False
  Type:         ManageBuckets</pre>
</div>
</div>
<div class="paragraph">
<p>To resolve errors resulting from invalid updates, edit the cluster
specification according to the message shown under Conditions and apply
the updated specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="cluster-id"><a class="anchor" href="#cluster-id"></a>Cluster ID</h4>
<div class="literalblock">
<div class="content">
<pre>Cluster Id:         9ae7fe4634e0360cf9c9245cb4ebb27b</pre>
</div>
</div>
<div class="paragraph">
<p>The cluster identifier as provided by the Couchbase cluster. This value
is provided directly by the Couchbase cluster and is therefore never
updated by any changes to the cluster specification.</p>
</div>
</div>
<div class="sect3">
<h4 id="members"><a class="anchor" href="#members"></a>Members</h4>
<div class="literalblock">
<div class="content">
<pre>Members:
  Ready:
    cb-example-0000
    cb-example-0001
    cb-example-0002</pre>
</div>
</div>
<div class="paragraph">
<p>Members represent pods that are managed by the Couchbase Operator. All
members in the Ready section represent pods that make up the Couchbase
cluster. The status of cluster members is directly affected by the value
of <code>Size</code> in the cluster spec. When <code>Size</code> is increased, a member add
event is generated, followed by rebalance:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Events:
  ... NewMemberAdded        New member cb-example-0003 added to cluster
  ... RebalanceStarted  A rebalance has been started to balance data across the cluster</pre>
</div>
</div>
<div class="paragraph">
<p>Removing a member generates the expected removal event, followed by a
rebalance:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Events:
  ... RebalanceStarted  A rebalance has been started to balance data across the cluster
  ... MemberRemoved     Existing member cb-example-0003 removed from the cluster</pre>
</div>
</div>
<div class="paragraph">
<p><em>Note:</em> It is also possible for a MemberRemoved event to be generated
when an auto-failover occurs and a member is replaced by a new member.</p>
</div>
<div class="paragraph">
<p>The <code>Conditions</code> section of the status is also updated as the operator
works to resolve changes to cluster spec size or failures. Important
conditions to check when scaling are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Balanced: Denoting whether data is equally distributed across all
nodes in the cluster.</p>
</li>
<li>
<p>Available: Denoting whether all members are up and all vBuckets are
available.</p>
</li>
<li>
<p>Scaling: Denoting whether the cluster is currently scaling.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="conditionsAndEvents.html" class="page">Conditions and Events</a> for more
information about these conditions and their statuses.</p>
</div>
</div>
<div class="sect3">
<h4 id="phase"><a class="anchor" href="#phase"></a>Phase</h4>
<div class="literalblock">
<div class="content">
<pre>Phase:      Running</pre>
</div>
</div>
<div class="paragraph">
<p>The current phase of the cluster displayed as one of the following
phases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating: When a cluster is first deployed.</p>
</li>
<li>
<p>Running: After the <code>couchbasecluster</code> resource object is available and
the first orchestrator pod is running.</p>
</li>
<li>
<p>Failed: When a failure occurs within the creation or running phase of
the cluster.</p>
</li>
<li>
<p>None: Initial state denoted by an empty string.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="size"><a class="anchor" href="#size"></a>Size</h4>
<div class="literalblock">
<div class="content">
<pre>Size:           3</pre>
</div>
</div>
<div class="paragraph">
<p>The size of the Couchbase cluster. When you change this value in the
cluster specification, this value is also updated as members are added
to the Couchbase cluster. If an error occurs while the Operator is
attempting to conform the cluster to the desired size, check the
<code>Conditions</code> section for information about the current state of the
cluster. See <a href="adminConsoleAccess.html" class="page">Accessing the Couchbase Web
Console</a> for information on how to manually access the cluster and
collect logs when additional troubleshooting is needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="conditions"><a class="anchor" href="#conditions"></a>Conditions</h4>
<div class="literalblock">
<div class="content">
<pre>Conditions:
  ...
  Message:          Data is equally distributed across all nodes in the cluster
  Reason:           Cluster is balanced
  Status:           True
  Type:         Balanced</pre>
</div>
</div>
<div class="paragraph">
<p>A list of conditions reflecting the current state of the Couchbase
cluster. Each Condition item is denoted by a <code>Type</code> along with an
associated <code>Status</code>. The various conditions and their statuses are
documented in <a href="conditionsAndEvents.html" class="page">Conditions and Events</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="events"><a class="anchor" href="#events"></a>Events</h4>
<div class="literalblock">
<div class="content">
<pre>Events:
  29m       29m     1   couchbase-operator-1917615544-j1mg8         Normal      NewMemberAdded      New member cb-example-0003 added to cluster
  29m       29m     1   couchbase-operator-1917615544-j1mg8         Normal      RebalanceStarted    A rebalance has been started to balance data across the cluster
  51m       51m     1   couchbase-operator-1917615544-j1mg8         Normal      BucketEdited        Bucket `default` was edited</pre>
</div>
</div>
<div class="paragraph">
<p>Events generated during cluster reconciliation. The last 10 events are
recorded and timestamped as the Operator works to reconcile the cluster
to its desired cluster state. The types of events that can occur
throughout the lifecycle of a CouchbaseCluster are documented in
<a href="conditionsAndEvents.html" class="page">Conditions and Events</a>.</p>
</div>
</div>
</div>
</div>
</div>
</article>
      <script>
        /* From https://stackoverflow.com/questions/18294759/use-javascript-to-add-a-css-class-to-all-elements-with-another-class-name */
        window.onload = function() {
          var buttons = document.querySelectorAll(".body .anchor"),
            len = buttons !== null ? buttons.length : 0,
            i = 0;
          for(i; i < len; i++) {
            buttons[i].className += " instructions";
          }
        }
      </script>
      <script>
        /* Inline script to remove the h1 heading when the page is rendered on the dev portal.
           Important otherwise it is displayed twice. */
        if (window.location.host === 'www.couchbaseinc.acct.us.onehippo.com' || window.location.host === 'developer.couchbase.com') {
          var heading = document.querySelector('div.body h1');
          heading.style.display = 'none';
        }
      </script>
      <script>
        /* Script to remove leading whitespace in code snippets.
         * Fix found on StackOverflow: https://stackoverflow.com/a/26230865/1908348 */
        [].forEach.call(document.querySelectorAll('code'), function($code) {
          var lines = $code.textContent.split('\n');
          if (lines[0] === '') {
            lines.shift()
          }

          var matches;
          var indentation = (matches = /^[\s\t]+/.exec(lines[0])) !== null ? matches[0] : null;
          if (!!indentation) {
            lines = lines.map(function(line) {
              line = line.replace(indentation, '')
              return line.replace(/\t/g, '    ')
            });

            $code.textContent = lines.join('\n').trim();
          }
        });
      </script>
    </div>
  </main>
</div>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>

<!-- Require_js bootstrap for app-specific JS module support -->
<!-- data-main attribute tells require.js to load
scripts/main.js after require.js loads. -->
<script type="text/javascript" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/require.js"></script>
<script type="text/javascript" src="https://developer.couchbase.com/webfiles/1498186094252/js/thirdparty/vendor/prism.js"></script>
<script rel="main" type="text/javascript" src="https://developer.couchbase.com/webfiles/1498186094252/js/main.js" ></script>
<!-- leave the main attribute, it is used to help main.js determine -->
<!-- the domain-relative path to the base script (main.js) -->  </body>
</html>
