<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta description="Quick Start for Couchbase Analytics.">
    <title>Quick Start</title>
  </head>
  <body>
    <main role="main"><article role="article" aria-labelledby="ariaid-title1">
    <div class="body">
      <!--
 ! Copyright 2016-2017 Couchbase, Inc.
 !-->

<h1 id="quick-start">Quick Start</h1>

<p>Using this section, get Analytics up and running quickly, and learn how to run analytic queries on rich,
flexible JSON documents. Try it out and let us know what do you think.</p>

<h2 id="assumptions"><a id="Assumptions">Assumptions</a></h2>

<ul>
  <li>
    <p>You are comfortable using Couchbase Server and know how to query it using N1QL.</p>
  </li>
  <li>
    <p>You already have a running instance of Couchbase Server 4.6 on your platform or you’re using Docker.</p>
  </li>
  <li>
    <p>You know how to interact with it using the Couchbase Web Console.</p>
  </li>
  <li>
    <p>You have the Couchbase beer-sample data bucket installed on your system.</p>
  </li>
</ul>

<p>You can either try Analytics using Docker or you can install it natively on your system.</p>

<h2 id="using-docker"><a id="Using_docker">Using Docker</a></h2>

<p>If you have Docker installed on your system and have a fast internet connection, run the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>docker run -d --name analytics -p 8091-8095:8091-8095 -p 11210:11210 couchbase/analytics-demo
</code></pre>
</div>

<p>After the initial download completes, the services start up automatically so that you have a functioning
mini-cluster running 1 x Couchbase Server node and 2 x Analytics nodes.</p>

<p>Run your queries using the Analytics Workbench on http://&lt;your-docker-ip&gt;:8095,
for example, http://localhost:8095 is a common Docker default machine IP on your local machine.
Similarly, you can access the installed Couchbase Server at http://&lt;your-docker-ip&gt;:8091,
for example, http://localhost:8091.</p>

<p>To run queries using the Analytics Workbench, see <a href="#Running_query">Running Your First Analytics Query for details</a>.
If your Docker host is not running as localhost, you can find your Docker host IP address by running the following
command:</p>

<p>On Linux and Mac OS X systems:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>echo $DOCKER_HOST
</code></pre>
</div>

<p>Result:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tcp://192.168.99.100:2376
</code></pre>
</div>

<p>On 64-bit Windows system, refer to the <a href="https://docs.docker.com">Docker documentation</a>.
Later on, when you’re all done experimenting, you can stop the docker image by running the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>docker stop analytics
</code></pre>
</div>

<h2 id="using-the-single-machine-executable"><a id="Using_the_single_machine_executable">Using The Single Machine Executable</a></h2>

<p>Prerequisites:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Couchbase Server 4.6
Oracle JRE 1.8+
</code></pre>
</div>

<div class="note note"><span class="notetitle">Note:</span> Make sure to install the Oracle JRE. Other alternatives,
such as OpenJDK, may fail due to missing packages.</div>

<h3 id="installation"><a id="Installation">Installation</a></h3>

<p>Download the Analytics DP2 pre-built bundle from
<a href="http://packages.couchbase.com/releases/analytics/1.0.0-DP2/couchbase-analytics-1.0.0-DP2-generic.zip">here</a>.
Unzip the bundle:</p>

<p>On Linux and Mac OS X systems, run the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>unzip &lt;path_to_bundle&gt;/couchbase-analytics-1.0.0-DP2-generic.zip
</code></pre>
</div>

<p>On Windows systems, right-click on the compressed file and select <strong>Extract All</strong>.</p>

<h3 id="starting-and-stopping-analytics"><a id="Starting_and_stopping">Starting and Stopping Analytics</a></h3>
<p>Start the sample local cluster by running the following commands:
On Linux and Mac OS X systems:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd cbas
./opt/local/bin/start-sample-cluster.sh
</code></pre>
</div>

<p>On Windows systems:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd cbas
.\opt\local\bin\start-sample-cluster.bat
</code></pre>
</div>

<p>Once the cluster is up and running, you’re ready to run your first Analytics query.
For details, see <a href="#Running_query">Running Your First Analytics Query</a>.</p>

<p>After you’re done using the system, stop the sample local cluster by running the following command:</p>

<p>On Linux and Mac OS X systems:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>./opt/local/bin/stop-sample-cluster.sh
</code></pre>
</div>

<p>On Windows systems:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.\opt\local\bin\stop-sample-cluster.bat
</code></pre>
</div>

<h3 id="running-your-first-analytics-query"><a id="Running_query">Running Your First Analytics Query</a></h3>
<p>A custom standalone Analytics Workbench is available with the Developer Preview.
Open a browser and go to http://localhost:8095 to access the Analytics Workbench. We recommend Google Chrome or
Mozilla Firefox browsers.</p>

<div class="note note"><span class="notetitle">Note:</span> For the Docker image, the URL
may be different as explained in the <a class="xref" href="#Using_docker">Using Docker</a> section. </div>

<p>Verify the connectivity to Analytics by running the following simple query and then click <strong>Execute</strong>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>SELECT "Hello, beer!" AS greeting;
</code></pre>
</div>

<div class="note note"><span class="notetitle">Note:</span> You must press the <strong class="ph b">Execute</strong>
button in the Analytics Workbench; unlike Query Workbench, pressing <strong class="ph b">Enter</strong>
or <strong class="ph b">Return</strong> will not immediately execute a statement because Analytics accepts
multi-line statements.</div>

<h2 id="deploying-analytics-on-a-real-cluster"><a id="Cluster_deployment">Deploying Analytics On A Real Cluster</a></h2>
<p>For multi-machine cluster deployment, please see the <a href="ansible.html">cluster setup documentation</a> as
well as the <a href="aws.html">AWS cluster setup documentation</a>.</p>

<h2 id="whats-next"><a id="What's_next">What’s Next</a></h2>
<p><strong>Congratulations</strong>! You’ve just executed your first Analytics query on your Couchbase data.</p>

<p>The <a href="primer-beer.html">tutorial</a> uses the Analytics Workbench.
If you prefer, you can run queries using <a href="cli-tool.html">cbq</a> or the <a href="rest-analytics.html">REST API</a> directly.
Further, you can take a look at the
<a href="https://github.com/couchbaselabs/node-cbasdashdemo">Analytics Visualization Dashboard demo</a>.</p>

    </div>
    </article>
    </main>
  </body>
</html>
