<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_ntl_jph_hr">
 <title>Role-based Access for Administrators</title>
 <shortdesc>Role Based Acces for Administrators (RBAC) is designed to to manage administrative
    access to the Couchbase system and to achieve segregation of administrative duties. Each
    administrator can perform only a well-defined fixed set of operations based on the job
    description.</shortdesc>
 <conbody>
   <p>RBAC requires configuration with <xref href="security-ldap-new.dita#topic_bgy_3ng_tq"
        >LDAP</xref> so that the administrator's user ID in LDAP can be mapped by the Full
      administrator to one or more fixed administrative roles. These roles contain a defined set of
      duties that can be performed in the system, and LDAP users have no other administrative access
      except for the one defined in their role assignment. </p>
   <section>
      <title>Administrative Roles in Couchbase </title>
     <p>There are six fixed administrative roles in Couchbase Server: Full, Cluster, Bucket, View,
        and Replication (XDCR) administrator.</p> 
     <p>The diagram below shows how these administrative roles correlate to each other. </p>
      <p><image href="pict/rbac-roles.png" id="image_vnn_zdm_3v" align="left" width="300"/></p>
      <dl>
        <dlentry>
          <dt>Full Administrator </dt>
          <dd>Full administrators have permissions to read/write and manage all Couchbase resources,
            including the security settings such as administrative credentials of other
            administrators (cluster, bucket, replication, and views). </dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Read-only Administrator </dt>
          <dd>
            <p>Read-only administrators have permissions to read or view data from various Couchbase
              resources but cannot write or manage any data. </p>
          </dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Cluster Administrator </dt>
          <dd>Cluster administrators can read, write and manage all cluster-level settings except
            security settings of the cluster such as updating credentials, enabling or disabling
            LDAP or modifying audit settings.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Bucket Administrator </dt>
          <dd>Bucket administrators are assigned to individual buckets, such as various business
            units in a company. There are two different bucket administration roles based on
            permissions: <ul id="ul_ggh_db2_3v">
              <li>The bucket administrators for a single bucket, who can manage only the buckets to
                which they were assigned. </li>
              <li>The bucket administrators for multiple buckets, denoted with an asterisk (*), who
                can manage any bucket in the cluster.</li>
            </ul></dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>View Administrator </dt>
          <dd>The role of a view administrator is assigned, for example, to lead application
            developers. These users must have access to the data to define views and to run views on
            data to ensure their correctness. The view administrators also define 2i indexes and
            spatial views. </dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Replication (XDCR) Administrator </dt>
          <dd>Remote teams responsible for configuring XDCR topology and managing replications for
            High Availability previously had to share administrative credentials. Now they can be
            added to the Replication administration role to manage these tasks.</dd>
        </dlentry>
      </dl>
      <table frame="all" rowsep="1" colsep="1" id="table_nj2_2jl_gv">
        <title>Role-based Access </title>
        <tgroup cols="9">
          <colspec colname="c1" colnum="1" colwidth="1.22*"/>
          <colspec colname="newCol3" colnum="2" colwidth="1.71*"/>
          <colspec colname="newCol4" colnum="3" colwidth="1.84*"/>
          <colspec colname="newCol2" colnum="4" colwidth="1*"/>
          <colspec colname="c2" colnum="5" colwidth="1.22*"/>
          <colspec colname="c3" colnum="6" colwidth="1.22*"/>
          <colspec colname="c4" colnum="7" colwidth="1.22*"/>
          <colspec colname="c5" colnum="8" colwidth="1.22*"/>
          <colspec colname="c6" colnum="9" colwidth="1.22*"/>
          <thead>
            <row>
              <entry namest="c1" nameend="newCol4" align="center">Couchbase Server</entry>
              <entry namest="newCol2" nameend="c6" align="center">Administrator role</entry>
            </row>
            <row>
              <entry>Area</entry>
              <entry>Task</entry>
              <entry>Examples</entry>
              <entry>Full</entry>
              <entry>Read-only</entry>
              <entry>Cluster</entry>
              <entry>Bucket</entry>
              <entry>XDCR</entry>
              <entry>View</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Cluster</entry>
              <entry>Read/write configuration</entry>
              <entry>Add/remove node,  rebalance cluster</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read/write security configuration</entry>
              <entry/>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read cluser information</entry>
              <entry>View cluster statistics</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry>Bucket</entry>
              <entry>Read/write configuration: </entry>
              <entry>Flush bucket</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Read-only</entry>
            </row>
            <row>
              <entry/>
              <entry>Read configuration</entry>
              <entry>View bucket and index stats</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry>XDCR</entry>
              <entry>Read/write configuration</entry>
              <entry>Pause resume replication</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read configuratiin</entry>
              <entry>View XDCR statistics</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
            </row>
            <row>
              <entry>Index</entry>
              <entry>Manage view index</entry>
              <entry/>
              <entry>Yes</entry>
              <entry> Read-only</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
     <p>
        <table frame="all" rowsep="1" colsep="1" id="table_abb_gg1_jv">
          <title>Fole-based Acces for Administrators</title>
          <tgroup cols="8">
            <colspec colname="c1" colnum="1" colwidth="2*"/>
            <colspec colname="c2" colnum="2" colwidth="1*"/>
            <colspec colname="c3" colnum="3" colwidth="0.5*"/>
            <colspec colname="c4" colnum="4" colwidth="0.5*"/>
            <colspec colname="c5" colnum="5" colwidth="0.5*"/>
            <colspec colname="c6" colnum="6" colwidth="0.5*"/>
            <colspec colname="c7" colnum="7" colwidth="0.5*"/>
            <colspec colname="c8" colnum="8" colwidth="0.5*"/>
            <thead>
              <row>
                <entry morerows="1">Couchbase Resource</entry>
                <entry morerows="1">Admin Role</entry>
                <entry namest="c3" nameend="c5">Write Access</entry>
                <entry namest="c6" nameend="c8">Read Access</entry>
              </row>
              <row>
                <entry>Config</entry>
                <entry>Security</entry>
                <entry>Stats</entry>
                <entry>Config</entry>
                <entry>Security</entry>
                <entry>Stats</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry/>
                <entry>Full</entry>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
              </row>
              <row>
                <entry>Cluster</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>---XDCR RemoteCluster Reference</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Node</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Bucket</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>        ---XDCR Replication Stream</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Index</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>View</entry>
                <entry/>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry/>
                <entry>Read-only</entry>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
              </row>
              <row>
                <entry>Cluster</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>---XDCR RemoteCluster Reference</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Node</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Bucket</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>        ---XDCR Replication Stream</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>Index</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry>View</entry>
                <entry/>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
                <entry><image href="pict/no.png"/></entry>
                <entry><image href="pict/yes.png"/></entry>
              </row>
              <row>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
              </row>
              <row>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
              </row>
              <row>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
                <entry/>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
    </section>
   
   <!--
   <section><title>Example Tasks for Role Privileges:</title>
    <dl>
      <dlentry>
        <dt>Cluster</dt>
        <dd><b>Read/write configuration</b><ul>
          <li>Add/remove node</li>
          <li>Failover node</li>
          <li>Manage buckets</li>
          <li>Manage server groups</li>
          <li>Rebalance cluster</li>
          <li>Change query engine settings</li>
          <li>Create/delete bucket</li>
          <li>Configure bucket type</li>
          <li>Configure memory, replication</li>
          <li>Change cluster settings (including notifications, auto-failover, alerts, auto-compaction, sample buckets)</li>
          <li>Configure Couchbase Server logs and log collection</li>
        </ul></dd>
        <dd><b>Read configuration</b><ul>
              <li>View node configuration</li>
              <li>View cluster statistics</li>
              <li>View query engine settings</li>
            </ul></dd>
        <dd><b>Security configuration</b><ul>
          <li>Change cluster security settings</li>
        </ul></dd>
      </dlentry>
    </dl>
     <dl>
       <dlentry>
         <dt>Bucket</dt>
         <dd><b>Read/write configuration</b><ul>
           <li>Manage access control (port, password)</li>
           <li>Compact, set auto-compaction settings</li>
           <li>Flush bucket</li>
         </ul></dd>
         <dd><b>Read configuration</b><ul>
           <li>View bucket and index stats</li>
           
         </ul></dd>
         <dd><b>XDCR:</b> Pause/resume replication<ul>
           <li>Start/stop XDCR replication for a bucket</li>
         </ul>
</dd>
         <dd><b>Manage views</b>
           <ul>
             <li>Create, delete, query view</li>
           </ul></dd>
         <dd><b>Manage spatial views</b>
           <ul>
             <li>Create, delete, query spatial view</li>
           </ul></dd>        
       </dlentry>
     </dl>
 <dl>
   <dlentry>
     <dt>XDCR</dt>
     <dd><b>Manage references</b>
     <ul>
       <li>Create XDCR reference
        </li>
       <li> Drop XDCR reference</li>
     </ul></dd>
     <dd><b>Manage replication</b>
       <ul>
         <li>Create XDCR replication
         </li>
         <li> Drop XDCR replication</li>
       </ul></dd>
     <dd><b>Manage pause/resume replication</b>
     <ul>
       <li>Start/stop XDCR replication</li>
     </ul></dd>
     <dd><b>Read configuration</b>
     <ul>
       <li>View XDCR statistics</li>
     </ul></dd>
   </dlentry>
 </dl>   
  
     
   </section>
  </conbody>--></conbody>
  
  

</concept>
