<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_ntl_jph_hr">
 <title>Role-based Access for Administrators</title>
 <shortdesc>Authorization defines the roles that Couchbase administrators perform after they connect
    to the system.</shortdesc>
 <conbody>
    <p>Role-based access for administrators in Couchbase is designed to achieve segregation of
      administrative duties so that each administrator can only perform a well-defined fixed set of
      operations based on the job description. <table frame="all" rowsep="1" colsep="1"
        id="table_nj2_2jl_gv">
        <title>Role-based Access </title>
        <tgroup cols="8">
          <colspec colname="c1" colnum="1" colwidth="0.8*"/>
          <colspec colname="newCol3" colnum="2" colwidth="1.2*"/>
          <colspec colname="newCol2" colnum="3" colwidth="0.8*"/>
          <colspec colname="c2" colnum="4" colwidth="0.8*"/>
          <colspec colname="c3" colnum="5" colwidth="0.8*"/>
          <colspec colname="c4" colnum="6" colwidth="0.8*"/>
          <colspec colname="c5" colnum="7" colwidth="0.8*"/>
          <colspec colname="c6" colnum="8" colwidth="0.8*"/>
          <thead>
            <row>
              <entry namest="c1" nameend="newCol3" align="center">Couchbase Server</entry>
              <entry namest="newCol2" nameend="c6" align="center">Administrator role</entry>
            </row>
            <row>
              <entry>Area</entry>
              <entry>Task</entry>
              <entry>Full</entry>
              <entry>Read-only</entry>
              <entry>Cluster</entry>
              <entry>Bucket</entry>
              <entry>XDCR</entry>
              <entry>View</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Cluster</entry>
              <entry>Read/write configuration</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read/write security</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read/write security configuration</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Read cluser information</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry>Bucket</entry>
              <entry>Read/write configuration</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Read-only</entry>
            </row>
            <row>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
              <entry/>
            </row>
            <row>
              <entry>XDCR</entry>
              <entry>Read/write configuration</entry>
              <entry>Yes</entry>
              <entry>Read-only</entry>
              <entry>Read-only</entry>
              <entry/>
              <entry>Read-only</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Manage replication</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Manage references</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Manage pause resume replication</entry>
              <entry/>
              <entry/>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
            </row>
            <row>
              <entry>Index</entry>
              <entry>Manage view index</entry>
              <entry>Yes</entry>
              <entry> </entry>
              <entry>Yes</entry>
              <entry>Yes</entry>
              <entry/>
              <entry>Yes</entry>
            </row>
          </tbody>
        </tgroup>
      </table></p>
    <dl>
      <dlentry>
        <dt>Full Couchbase Administrator (existing)</dt>
        <dd>The initial built-in full Couchbase administrator authenticated during Couchbase Server
          installation has the full access and privileges to manage all Couchbase Server functions.
          There is one full administrator per Couchbase Server, and his user ID is mapped from the
          LDAP server using the Couchbase Web Console, as explained in <b>Authentication</b>.</dd>
      </dlentry>
    </dl>
    <dl>
      <dlentry>
        <dt>Read-only Couchbase Administrator (existing)</dt>
        <dd>The read-only Couchbase administrator has a restricted read-only access to Couchbase
          Server functions. The read-only administrator can view certain activities without having
          the ability to edit. </dd>
        <dd>These administrators are set up using the Couchbase Web Console. </dd>
      </dlentry>
    </dl>
    <section>
      <title>New Administrative Roles</title>
      <p>Several new administrative roles have been introduced to achieve segregation of duties for
        administrators. Administrators in all roles have read-only access to user data and querying
        statistics. For example, the bucket administrators can see other buckets but cannot perform
        any operations on them. </p>
      <note type="important">New administrative roles currently require that LDAP is enabled.
        Therefore, role-based access for the new administrative roles is not supported on Windows
        and Mac platforms.</note>
      <dl>
        <dlentry>
          <dt>Cluster Administrator </dt>
          <dd>The cluster administrators can manage all cluster operations except for the cluster
            security settings. They are unable to update the Administrator credentials, enable or
            disable LDAP or modify auditing settings.</dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Bucket Administrator </dt>
          <dd>Bucket administrators are assigned to individual buckets, such as various business
            units in a company. There are two different bucket administration roles based on
            permissions: <ul id="ul_ggh_db2_3v">
              <li>The bucket administrator for a single bucket, such as Bucket Admin (test). These
                administrators can manage only the buckets to which they were assigned.<p><image
                    href="../admin/picts/bucket-admin-test.png" id="image_pkp_412_3v" align="left"
                    width="250"/></p>
              </li>
              <li>The bucket administrator for multiple buckets, or Bucket Admin (*), who can manage
                any bucket in the cluster.<p><image href="../admin/picts/bucket-admin-*.png"
                    id="image_ozy_r12_3v"/></p></li>
            </ul></dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>View Administrator </dt>
          <dd>Lead application developers must have access to the data to define views and run views
            on data to ensure the correctness of the views. They also define 2i indexes and spatial
            views. </dd>
        </dlentry>
      </dl>
      <dl>
        <dlentry>
          <dt>Replication Administrator </dt>
          <dd>Remote teams responsible for configuring XDCR topology and managing replications for
            High Availability previously had to share administrative credentials. Now they can be
            added to the Replication administration role to manage these tasks.</dd>
        </dlentry>
      </dl>
    </section>
   <section><title>Example Tasks for Role Privileges:</title>
    <dl>
      <dlentry>
        <dt>Cluster</dt>
        <dd><b>Read/write configuration</b><ul>
          <li>Add/remove node</li>
          <li>Failover node</li>
          <li>Manage buckets</li>
          <li>Manage server groups</li>
          <li>Rebalance cluster</li>
          <li>Change query engine settings</li>
          <li>Create/delete bucket</li>
          <li>Configure bucket type</li>
          <li>Configure memory, replication</li>
          <li>Change cluster settings (including notifications, auto-failover, alerts, auto-compaction, sample buckets)</li>
          <li>Configure Couchbase Server logs and log collection</li>
        </ul></dd>
        <dd><b>Read configuration</b><ul>
              <li>View node configuration</li>
              <li>View cluster statistics</li>
              <li>View query engine settings</li>
            </ul></dd>
        <dd><b>Security configuration</b><ul>
          <li>Change cluster security settings</li>
        </ul></dd>
      </dlentry>
    </dl>
     <dl>
       <dlentry>
         <dt>Bucket</dt>
         <dd><b>Read/write configuration</b><ul>
           <li>Manage access control (port, password)</li>
           <li>Compact, set auto-compaction settings</li>
           <li>Flush bucket</li>
         </ul></dd>
         <dd><b>Read configuration</b><ul>
           <li>View bucket and index stats</li>
           
         </ul></dd>
         <dd><b>XDCR:</b> Pause/resume replication<ul>
           <li>Start/stop XDCR replication for a bucket</li>
         </ul>
</dd>
         <dd><b>Manage views</b>
           <ul>
             <li>Create, delete, query view</li>
           </ul></dd>
         <dd><b>Manage spatial views</b>
           <ul>
             <li>Create, delete, query spatial view</li>
           </ul></dd>        
       </dlentry>
     </dl>
 <dl>
   <dlentry>
     <dt>XDCR</dt>
     <dd><b>Manage references</b>
     <ul>
       <li>Create XDCR reference
        </li>
       <li> Drop XDCR reference</li>
     </ul></dd>
     <dd><b>Manage replication</b>
       <ul>
         <li>Create XDCR replication
         </li>
         <li> Drop XDCR replication</li>
       </ul></dd>
     <dd><b>Manage pause/resume replication</b>
     <ul>
       <li>Start/stop XDCR replication</li>
     </ul></dd>
     <dd><b>Read configuration</b>
     <ul>
       <li>View XDCR statistics</li>
     </ul></dd>
   </dlentry>
 </dl>   
  
     
   </section>
  </conbody>
  
  

</concept>
