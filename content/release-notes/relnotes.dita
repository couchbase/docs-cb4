<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_gbk_tyh_t5">
  <title>Release Notes</title>
  <body>
    <p>Couchbase Server 4.5 leaps forward with simplified transitioning from RDBMS to NoSQL,
      advanced database performance and scale, and enhanced management and security controls on your
      data. Take a look at <xref href="../introduction/whats-new.dita">What's new</xref> for a list
      of new features and improvements that are available in this release. </p>
    
   <section id="release-451"><title>Release 4.5.1</title>
     <p>Couchbase Server 4.5.1, released in October 2016, is the first maintenance release in the
        4.5.x series for Couchbase Server.</p>
     <p outputclass="h3"><b>Behavior Changes</b></p>
     <p>This section lists the behavior changes in the product compared to the previous release. </p>
     <p>Path expression in the FROM clause is no longer supported. Any queries that use the path
        expression in the FROM clause will fail. For example, the following query will fail:
        <codeblock>SELECT &lt;field2&gt; FROM &lt;bucket1&gt;.&lt;field1&gt;;</codeblock></p>
     <p>You must rewrite the queries using the path expression in the projection instead. For
        example, rewrite the query above as follows:
        <codeblock>SELECT &lt;field1&gt;.&lt;field2&gt; FROM &lt;bucket1&gt;;</codeblock></p>
     
     <p outputclass="h3"><b>Known Issues</b></p>
     <p>This list covers some of the known problems with Couchbase Server 4.5.1. Please read this
        before reporting any new bugs, and watch for updates as new bugs are discovered. <table
          frame="all" rowsep="1" colsep="1" id="table_xtp_5qn_lx">
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.08*"/>
            <thead>
              <row>
                <entry>Issue</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-21597" format="html"
                    scope="external">MB-21597</xref></entry>
                <entry>In the case of concurrent sub-document API operations from multiple clients,
                  Couchbase Server does not honor the atomicity. This can result in one update
                  overwriting the previous update, even though the previous update was successful as
                  far as the client is concerned.<p><b>Workaround:</b> For use cases where
                    sub-document API is being used and are covered by an Enterprise Edition license,
                    contact Couchbase Support. For all other cases, Couchbase recommends that you do
                    not use the sub-document API feature for concurrent updates.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-21038" format="html"
                  scope="external">MB-21038</xref></entry>
                <entry>During rolling upgrade from Couchbase 4.0 to 4.5, if the query node is upgraded to 4.5 and the index node is on 4.0, <codeph>stale=false</codeph> query can crash the indexer.
                  <p><b>Workaround: </b>Upgrade the index node to 4.5 first before query nodes.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20509" format="html"
                  scope="external">MB-20509</xref></entry>
                <entry>Couchbase Server 4.5.x is not supported on the macOS Sierra (OS X 10.12) platform. <p><b>Workaround: </b>We are working on a fix and recommend that you do not upgrade the OS X version to macOS Sierra until the patch with the fix is available.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20337" format="html"
                  scope="external">MB-20337</xref></entry>
                <entry>XDCR does not send all the mutations when the target cluster is rebalancing.<p><b>Workaround: </b>Wait for a few minutes (3-4mins) after the rebalance operation completes for XDCR to pick up from the last checkpoint..</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19846" format="html"
                  scope="external">MB-19846</xref></entry>
                <entry>A rebalance failure due to DCP disconnection can occur on an idle DCP connection if no-op messages cannot be exchanged due to network congestion and/or heavy CPU usage.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19806" format="html"
                  scope="external">MB-19806</xref></entry>
                <entry>Online upgrade from versions 2.x or 3.x to 4.5.x may fail.<p><b>Workaround:
                    </b>Upgrade to version 4.0/4.1 first, and then upgrade to the latest 4.5.x
                    version. For more information, see <xref
                      href="../install/upgrade-matrix.dita#topic_dwm_qfv_xs"/>.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-17433" format="html"
                  scope="external">MB-17433</xref></entry>
                <entry>An error is thrown when trying to create more than 10 full-text
                      indexes.<p><b>Workaround: </b>Reduce the setting
                      <codeph>maxPartitionsPerPIndex</codeph> to a number lower than 32 (default),
                    such as 16.</p></entry>
              </row>
            </tbody>
          </tgroup>
        </table></p>
     <p outputclass="h3"><b>Fixed Issues</b></p>
      <p>
        <table frame="all" rowsep="1" colsep="1" id="table_cc5_lvv_qx"><title>Updated: October 18, 2016</title>
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1*"/>
            <colspec colname="c2" colnum="2" colwidth="3.08*"/>
            <thead>
              <row>
                <entry>Issue </entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20519" format="html"
                    scope="external">MB-20519</xref></entry>
                <entry>Windows 10 Anniversary Edition Developer Preview for Couchbase Server 4.5.1
                  is available. Get the Windows 10 Anniversary Edition Developer Preview build from
                  the <xref href="http://www.couchbase.com/nosql-databases/downloads" format="html"
                    scope="external">Downloads</xref> page.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
     
     <p>
        <table frame="all" rowsep="1" colsep="1" id="table_qhd_tsn_lx"><title>Released: October 04, 2016 </title>
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.08*"/>
            <thead>
              <row>
                <entry>Issue</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-21409" format="html"
                    scope="external">MB-21409</xref></entry>
                <entry>Support for Amazon Linux Version 2016.03 has been added.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20697" format="html"
                  scope="external">MB-20697</xref></entry>
                <entry>Certain types of disk write failures did not trigger the correct alert and the <codeph>ep_item_commit_failed</codeph> stat incorrectly remained 0.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20653" format="html"
                  scope="external">MB-20653</xref></entry>
                <entry>Memory leak in XDCR when replication streams are restarted.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20593" format="html"
                  scope="external">MB-20593</xref></entry>
                <entry>Auto-compaction settings for indexes could not be altered after changing any GSI settings.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20592" format="html"
                  scope="external">MB-20592</xref></entry>
                <entry>Pausing and resuming an existing XDCR replication caused XDCR to panic.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20521" format="html"
                  scope="external">MB-20521</xref></entry>
                <entry>Memory leak occurred in Cluster Manager when query service was
                  enabled.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20492" format="html"
                  scope="external">MB-20492</xref></entry>
                <entry>The collection operators FIRST, ARRAY, ANY, EVERY, and ANY AND EVERY did not work with covering indexes if there was a condition in the collection operator.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20441" format="html"
                  scope="external">MB-20441</xref></entry>
                <entry>When XDCR getMeta receives an error that is not a network timeout type, it repairs the network connection and continues in a loop to read from the client until a timeout occurs after 2 minutes. In this window, XDCR replication appeared stuck. </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20425" format="html"
                  scope="external">MB-20425</xref></entry>
                <entry>Data service (memcached): Increment/decrement operation could hang when used on buckets with full eviction mode.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20381" format="html"
                  scope="external">MB-20381</xref></entry>
                <entry>If a value being inserting using N1QL exceeded MAXINT64, the value was truncated. </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20284" format="html"
                  scope="external">MB-20284</xref></entry>
                <entry>Although <codeph>cbbackupmgr list</codeph> is a passive command, running it caused data files to grow in backup directories.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20232" format="html"
                  scope="external">MB-20232</xref></entry>
                <entry>Memory optimized indexes showed varying fragmentation levels in the UI.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20196" format="html"
                  scope="external">MB-20196</xref></entry>
                <entry><xref href="../architecture/storage-architecture.dita#concept_x13_xlj_vs"
                    >ForestDB</xref> iterator returned
                    <systemoutput>FDB_RESULT_ITERATOR_FAIL</systemoutput> error upon document
                  deletion causing incorrect items in a list to be returned.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20195" format="html"
                  scope="external">MB-20195</xref></entry>
                <entry>During index selection, we compare the expression in the index key with the expression in the query predicate for equivalence. NULL was not compared equivalent to NULL, and MISSING was not compared equivalent to MISSING.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20178" format="html"
                  scope="external">MB-20178</xref></entry>
                <entry>Indexer service when using memory optimized indexes did not correctly honour the memory quota and kept consuming memory causing out of memory situations for the operating system.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20171" format="html"
                  scope="external">MB-20171</xref></entry>
                <entry>Updating the administrator password with couchbase-cli removed the read-only user account.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20166" format="html"
                  scope="external">MB-20166</xref></entry>
                <entry>N1QL failed to recognize the DistinctScan operator when using DISTINCT in a prepared statement.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20164" format="html"
                  scope="external">MB-20164</xref></entry>
                <entry>The query engine internally represents all numbers as float64. This lead to rounding errors at the margins. In particular, with large CAS values, the rounding errors caused CAS mismatch errors.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20162" format="html"
                  scope="external">MB-20162</xref></entry>
                <entry>Bucket level auto-compaction settings based on size did not work properly when the document size reached or exceeded the configured size thresholds.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20156" format="html"
                  scope="external">MB-20156</xref></entry>
                <entry>During secondary indexes client instantiation, a race condition while waiting
                  for multiple indexes nodes resulted in the index service crashing.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20153" format="html"
                  scope="external">MB-20153</xref></entry>
                <entry>Canceling the index service request or a network write error caused the
                  indexer to crash.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20116" format="html"
                  scope="external">MB-20116</xref></entry>
                <entry>Race condition in the index service caused it to hang while going to a paused
                  state when recovery was in progress.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20112" format="html"
                  scope="external">MB-20112</xref></entry>
                <entry>Double-free causes segmentation fault in <xref
                    href="../architecture/storage-architecture.dita#concept_x13_xlj_vs"
                    >ForestDB</xref>.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20111" format="html"
                  scope="external">MB-20111</xref></entry>
                <entry>Re-inserting documents to same offset caused <xref
                    href="../architecture/storage-architecture.dita#concept_x13_xlj_vs"
                    >ForestDB</xref> to assert.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20102" format="html"
                  scope="external">MB-20102</xref></entry>
                <entry>The compaction daemon incorrectly passed the <codeph>purge seqno</codeph> to development design documents preventing Couchbase Server from reclaiming the disk space.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20076" format="html"
                  scope="external">MB-20076</xref></entry>
                <entry>When two threads are operating on one bucket, with one thread adding documents in batches and the second thread using an iterator to read and validate every document key, the iterator skipped some documents that should have been returned.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20058" format="html"
                  scope="external">MB-20058</xref></entry>
                <entry>When a subquery had the aggregate function <codeph>COUNT()</codeph> and the parent query did not have it, a wrong query plan was generated by adding IndexCountScan operator in both the subquery and the parent query. This caused incorrect results and in some cases wrong format.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20054" format="html"
                  scope="external">MB-20054</xref></entry>
                <entry>Attempting to delete a bucket when there are non-zero number of items pending to be sent (DCP backfill) caused Memcached to abort.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20021" format="html"
                  scope="external">MB-20021</xref></entry>
                <entry>The <codeph>cbbackup</codeph> tool created an incorrect directory structure when empty buckets preceded non-empty buckets alphabetically.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20008" format="html"
                  scope="external">MB-20008</xref></entry>
                <entry>Security upgrade for cURL to version 7.49.1.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19971" format="html"
                  scope="external">MB-19971</xref></entry>
                <entry>The DELETE statement with RETURNING clause caused the query engine to panic.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19920" format="html"
                  scope="external">MB-19920</xref></entry>
                <entry>Following a failed backup, restarting the backup with the <codeph>--resume</codeph> option in <codeph>cbbackupmgr</codeph> could result in some items being skipped.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19893" format="html"
                  scope="external">MB-19893</xref></entry>
                <entry>When using DISTINCT with RAW and ORDER BY, the results were not ordered.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19892" format="html"
                  scope="external">MB-19892</xref></entry>
                <entry>Data Service would memory leak or even crash if a DCP producer was closed when backfills were still present.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19885" format="html"
                  scope="external">MB-19885</xref></entry>
                <entry>An error occurs when invoking the <codeph>couchbase-cli server-info</codeph> command.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19862" format="html"
                  scope="external">MB-19862</xref></entry>
                <entry>When restoring a lot of backups, <codeph>cbbackupmgr</codeph> uses too many file descriptors.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19861" format="html"
                  scope="external">MB-19861</xref></entry>
                <entry>Different query results were returned depending on whether an index was present or not.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19843" format="html"
                  scope="external">MB-19843</xref></entry>
                <entry>View engine failed with DCP start sequence number greater than end sequence number error and failed to roll back. This caused view engine indexing issues.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19832" format="html"
                  scope="external">MB-19832</xref></entry>
                <entry>XDCR would temporarily get stuck in a loop when a node, which was previously removed from a cluster, rejoined the cluster. This issue was observed when the cluster contained multiple Couchbase Server versions and no mutations had previously been replicated.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19819" format="html"
                  scope="external">MB-19819</xref></entry>
                <entry>Stopping and restarting V1 (CAPI) XDCR caused XDCR to fail.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19804" format="html"
                  scope="external">MB-19804</xref></entry>
                <entry>Empty IN and WITHIN predicates caused queries to time-out.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19774" format="html"
                  scope="external">MB-19774</xref></entry>
                <entry>An Index service crash was caused by a race condition when the indexer was trying to roll back and was using standard global indexes.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19770" format="html"
                  scope="external">MB-19770</xref></entry>
                <entry>When the character “!” was used instead of “NOT” in N1QL, incorrect results were produced instead of throwing an error.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19764" format="html"
                  scope="external">MB-19764</xref></entry>
                <entry>Malformed or unknown roles error was thrown when using CLI to configure RBAC for administrators.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19761" format="html"
                  scope="external">MB-19761</xref></entry>
                <entry>Some FIRST and ARRAY expressions in the SELECT statement were not recognized as aggregate expressions.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19757" format="html"
                  scope="external">MB-19757</xref></entry>
                <entry>TLS configuration on the port 11207 was lost when the data service was
                  restarted.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19744" format="html"
                  scope="external">MB-19744</xref></entry>
                <entry>On Windows platform, allocating memory for the document key could result in a stack overflow error when the number of documents was large.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19705" format="html"
                  scope="external">MB-19705</xref></entry>
                <entry>When a document containing large array was indexed and the value of max_array_seckey_size was set to a very small value, a mutation in the document array caused the indexer to panic.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19697" format="html"
                  scope="external">MB-19697</xref></entry>
                <entry>More than one XDCR replication instance might start after replication is resumed, resulting in incorrect functional behavior and performance impact.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19659" format="html"
                  scope="external">MB-19659</xref></entry>
                <entry>The query <codeph>SELECT COUNT(*)</codeph> did not work correctly when used in a prepared statement.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19599" format="html"
                  scope="external">MB-19599</xref></entry>
                <entry>The Couchbase Web Console and REST API over HTTPS did not work for center web clients such as Chrome 50 or higher that send elliptic curve X25519 requests for TLS.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19509" format="html"
                  scope="external">MB-19509</xref></entry>
                <entry>Query with encoded plan erroneously set the wrong plan in prepared statement cache.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19319" format="html"
                  scope="external">MB-19319</xref></entry>
                <entry>Executing Couchbase log collection from the UI would hang on SUSE 11.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18841" format="html"
                  scope="external">MB-18841</xref></entry>
                <entry>Query execution time was higher when the encoded plan was sent along with the name on a prepared query. </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18452" format="html"
                  scope="external">MB-18452</xref></entry>
                <entry>
                  <p>Rebalance would fail or be slow when re-balancing large buckets. This has been
                    fixed to make rebalance more reliable and performant.</p>
                </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18426" format="html"
                  scope="external">MB-18426</xref></entry>
                <entry>Data service performance has been improved by decreasing the default number of concurrent compactions to 1.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
     <p>For the full list of issues fixed in release 4.5.1, check the following <xref
       href="https://issues.couchbase.com/browse/MB-19920?jql=project%20%3D%20MB%20AND%20issuetype%20in%20(bug%2C%20improvement)%20AND%20status%20in%20(closed%2C%20resolved)%20AND%20resolution%20not%20in%20(Duplicate%2C%20%22Cannot%20Reproduce%22%2C%20%22Won't%20Fix%22%2C%20Incomplete)%20AND%20fixVersion%20%3D%204.5.1%20ORDER%20BY%20component%20ASC"
          format="html" scope="external">JIRA query</xref>.</p>
     <p outputclass="h3"><b>N1QL Enhancements</b></p>
     
     <p>
        <table frame="all" rowsep="1" colsep="1" id="table_dd3_ff4_lx">
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.08*"/>
            <thead>
              <row>
                <entry>Issue</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20067" format="html"
                  scope="external">MB-20067</xref></entry>
                <entry>Added a new N1QL string function <codeph>SUFFIXES()</codeph> which produces all suffix substrings of a given string or parameter. This function helps process LIKE ‘%substring%’ queries efficiently.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19953" format="html"
                  scope="external">MB-19953</xref></entry>
                <entry>Performance improvement for DISTINCT operator processing.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19857" format="html"
                  scope="external">MB-19857</xref></entry>
                <entry>The UPDATE statement is enhanced to evaluate functions and expressions in the FOR-clause. Its syntax is enhanced to support multiple nested FOR clauses to access and update fields in nested arrays.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19809" format="html"
                  scope="external">MB-19809</xref></entry>
                <entry>When constructing objects in a N1QL query, the names of fields in name-value pairs can be dynamically generated.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19777" format="html"
                  scope="external">MB-19777</xref></entry>
                <entry>When constructing objects in a N1QL query, the names of fields in name-value pairs is made optional. For example, the following query is valid in 4.5.1 and implicitly assigns names “type” and “name” for respective values: <codeblock>SELECT {type, name} FROM `travel-sample` LIMIT 2;</codeblock></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19733" format="html"
                  scope="external">MB-19733</xref></entry>
                <entry>Prior to 4.5.1, many expressions and predicates that can use an index did not do so. This optimization fixes this issue. For example, the type of queries that can benefit from this are :
                  <codeblock>CREATE INDEX idx_b ON default(b);
                  EXPLAIN SELECT * FROM default WHERE 1 IN b;
                  CREATE INDEX idx_and ON default(a = 5 AND b = 6);
                  EXPLAIN SELECT * FROM default WHERE a = 5 AND b = 6;</codeblock></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19680" format="html"
                  scope="external">MB-19680</xref></entry>
                <entry>Added a new N1QL array function <codeph>ARRAY_INTERSECT()</codeph> which
                  takes two or more arrays as parameters and returns the intersection of the input
                  arrays as the result. It returns an empty array if there are no common array
                  elements. </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19575" format="html"
                  scope="external">MB-19575</xref></entry>
                <entry>Performance optimization for COUNT() queries with LIKE "prefix%". When applicable, N1QL uses the IndexCountScan operator and pushes down the count to indexer.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19574" format="html"
                  scope="external">MB-19574</xref></entry>
                <entry>This enhancement enables queries with LIKE predicates to use an index that is defined with a covering predicate. For example, if index is created with LIKE ‘string1%’ , then queries with LIKE ‘string1string2%’ will use the index.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19150" format="html"
                  scope="external">MB-19150</xref></entry>
                <entry>A new query parameter pretty is added to enable/disable pretty formatting of query result. When set to false, the white space characters are stripped from the query results, which reduces the number of bytes transferred over the network. The performance benefits are significantly visible with large result sets.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18482" format="html"
                  scope="external">MB-18482</xref></entry>
                <entry>Performance optimization to push down LIMIT to the indexes, resulting in fewer rows emitted from indexes, faster query filtering, and quicker stop.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
     <p>For the complete list of N1QL enhancement in this release, check the following <xref
       href="https://issues.couchbase.com/browse/MB-20734?jql=project%20%3D%20MB%20AND%20resolution%20not%20in%20(%22Cannot%20Reproduce%22%2C%20Duplicate%2C%20Incomplete%2C%20%22Won't%20Do%22%2C%20%22Won't%20Fix%22)%20AND%20fixVersion%20%3D%204.5.1%20AND%20component%20%3D%20query%20AND%20project%20%3D%20MB%20and%20type%20%3D%20Improvement"
       format="html" scope="external">JIRA query</xref>.</p>
   </section>
    <section id="release-450"><title>Release 4.5.0</title>
     <p>Couchbase Server 4.5 was released in June 2016.</p>
      <p>The version 4.5 of Couchbase Server includes new features and behavior changes. The following sections list the behavior changes, fixed issues, known issues, and deprecated items.</p>
    <p outputclass="h3"><b>Behavior Changes</b> </p>
        <p>Here are the behavior changes in the product, compared to the previous release:</p>
      <p>
          <ul>
            <li>Disabling scientific notation for integers. With this change, large integers are no
              longer displayed in the scientific notation in N1QL. For example, large numbers will
              no longer be reported in the scientific format: <codeph>"Column1":
                9.223372036854776e+18</codeph>. Instead, Couchbase Server will return
                <codeph>"Column1": 9223372036854775807</codeph>. Details for the change can be found
              in <xref href="https://issues.couchbase.com/browse/MB-14720" format="html"
                scope="external">MB-14720</xref>.</li>
            <li><codeph>PENDING</codeph> index state is now represented as <codeph>DEFERRED</codeph>
              and <codeph>BUILDING</codeph>. With this change, global secondary indexes no longer
              display a <codeph>PENDING</codeph> state under the status in
                <codeph>SYSTEM:INDEXES</codeph>. Instead, global secondary indexes that are actively
              being built display <codeph>BUILDING</codeph> and global secondary indexes that are
              created with the <codeph>DEFER_BUILD</codeph> option display <codeph>DEFERRED</codeph>
              for the status attribute in the <codeph>SYSTEM:INDEXES</codeph> output in N1QL.
              Details for the change can be found in <xref
                href="https://issues.couchbase.com/browse/MB-14679" format="html" scope="external"
                >MB-14679</xref>.</li>
            <li>When the GROUP BY clause is present in a N1QL query, it is not valid to have any
              fields in SELECT &lt;<varname>projection_list</varname>> expressions that are either
              not referred in GROUP BY expressions, or not in the aggregate functions in the
                &lt;<varname>projection_list</varname>>. Further, the GROUP BY clause is required
              (on the non-aggregated field) if the &lt;<varname>projection_list</varname>> has some
              fields aggregated and some not. This correct GROUP BY behavior is enforced, because
              each result row might otherwise have more than one possible value for the ungrouped
              columns/fields. If a query doesn't follow this rule, error code 4210 with message
              "Expression must be a group key or aggregate: .... " is thrown.</li>
            <li>The new backup tool is called <codeph>cbbackupmgr</codeph>, and it is not backward
              compatible with older backup files from previous releases. If you want to take a
              backup of a previous release and then load and restore it in Couchbase Server 4.5, you
              should use the old <codeph>cbbackup</codeph> tool (not the new
                <codeph>cbbackupmgr</codeph>). After you restore the data into version 4.5, you can
              start using the <codeph>cbbackupmgr</codeph> for subsequent backup/restore operations
              to other Couchbase Server 4.5 nodes.</li>
            <li>With the new <cmdname>cbbackupmgr</cmdname> tool, if you're trying to restore a SASL
              protected bucket, then you need to first create a bucket with a SASL password on the
              target cluster before you run the restore operation.</li>
            <li>New network ports: <p>
                <table frame="all" rowsep="1" colsep="1" id="table_gn4_rd1_cv">
                  <title>New Network Ports in Couchbase Server 4.5</title>
                  <tgroup cols="7">
                    <colspec colname="c1" colnum="1" colwidth="1*"/>
                    <colspec colname="c2" colnum="2" colwidth="2*"/>
                    <colspec colname="c3" colnum="3" colwidth="1*"/>
                    <colspec colname="c4" colnum="4" colwidth="1*"/>
                    <colspec colname="c5" colnum="5" colwidth="1*"/>
                    <colspec colname="c6" colnum="6" colwidth="1"/>
                    <colspec colname="c7" colnum="7" colwidth="1*"/>
                    <thead>
                      <row>
                        <entry>Port</entry>
                        <entry>Description</entry>
                        <entry>Node-to-node</entry>
                        <entry>Node-to-client</entry>
                        <entry>Cluster administration</entry>
                        <entry>XDCR v1 (CAPI)</entry>
                        <entry>XDCR v2 (XMEM)</entry>
                      </row>
                    </thead>
                    <tbody>
                      <row>
                        <entry>8094</entry>
                        <entry>External FTS HTTP port</entry>
                        <entry>Yes</entry>
                        <entry>Yes</entry>
                        <entry>Yes</entry>
                        <entry>No</entry>
                        <entry>No</entry>
                      </row>
                    </tbody>
                  </tgroup>
                </table>
              </p></li>
          </ul>
        </p> 

    <p outputclass="h3"><b>Known Issues</b></p>
        <p>This list covers some of the known problems with Couchbase Server 4.5.0. Please read this
        before reporting any new bugs, and watch for updates as new bugs are discovered.</p><table
          frame="all" rowsep="1" colsep="1" id="table_n1b_rv1_2t1">
          <tgroup cols="2">
            <colspec colnum="1" colname="col1" colwidth="1*"/>
            <colspec colnum="2" colname="col2" colwidth="3.08*"/>
            <tbody>
              <row>
                <entry><b>Issue</b></entry>
                <entry><b>Description</b></entry>
              </row>
            <row>
              <entry><xref href="http://www.couchbase.com/issues/browse/MB-21597" format="html"
                  scope="external">MB-21597</xref></entry>
              <entry>In the case of concurrent sub-document API operations from multiple clients,
                Couchbase Server does not honor the atomicity. This can result in one update
                overwriting the previous update, even though the previous update was successful as
                far as the client is concerned.<p><b>Workaround:</b> For use cases where
                  sub-document API is being used and are covered by an Enterprise Edition license,
                  contact Couchbase Support. For all other cases, Couchbase recommends that you do
                  not use the sub-document API feature for concurrent updates.</p></entry>
            </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20519" format="html"
                    scope="external">MB-20519</xref></entry>
                <entry>Couchbase Server 4.5 is not supported on Windows 10 Anniversary
                    Update.<p><i>Updated October 18, 2016</i>: Windows 10 Anniversary Edition
                  Developer Preview for Couchbase Server 4.5.1 is now available. Get the Windows 10
                  Anniversary Edition Developer Preview build from the <xref
                    href="http://www.couchbase.com/nosql-databases/downloads" format="html"
                    scope="external">Downloads</xref> page.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-20509" format="html"
                    scope="external">MB-20509</xref></entry>
                <entry>Couchbase Server 4.5 is not supported on the macOS Sierra (OS X 10.12)
                  platform. <p>We are working on a fix and recommend that you do not upgrade the OS
                    X version to macOS Sierra until the patch with the fix is available.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19706" format="html"
                    scope="external">MB-19920</xref></entry>
                <entry><p dir="ltr">When backup fails and you restart the backup with the
                      <codeph>--resume</codeph> flag, it may cause items to be skipped.
                    Consequently, if you then restore this backup, the items in the bucket may not
                    be the same as the original. </p><b
                    id="docs-internal-guid-3ac046ae-569b-93bd-e241-789d4d37d430">Workaround:
                  </b>When restarting backup, use the <codeph>--purge</codeph> flag to remove the
                  partial backup and restart from the point of the previous successful
                  backup.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19892" format="html"
                    scope="external">MB-19892</xref></entry>
                <entry>After a hard failover, you may not be able to re-add a node with data service
                  because the old vBucket files were not deleted.<p><b>Workaround:</b> Restart
                    Couchbase Server on the removed node before adding it back to the
                  cluster.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19706" format="html"
                    scope="external">MB-19861</xref></entry>
                <entry>Different query results are returned depending on whether the index is
                  present or not. <p><b id="docs-internal-guid-3ac046ae-569d-3484-7ba4-e0ea2e84f3c2"
                      >Workaround : </b>This happens when the UNION/INTERSECT is within the subquery
                    of the FROM clause when one branch is a covering scan and other is not. The
                    workaround is to create covered indexes for both the branches.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19706" format="html"
                    scope="external">MB-19846</xref></entry>
                <entry>A rebalance failure due to DCP disconnection can occur on an idle DCP
                  connection if no-op messages cannot be exchanged due to network congestion and/or
                  heavy CPU usage. </entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19764" format="html"
                    scope="external">MB-19764</xref></entry>
                <entry>Malformed or unknown roles seen when using the CLI.<p><b>Workaround:</b>
                    Retry your command in the CLI using the following role strings - admin,
                    ro_admin, cluster_admin, replication_admin, bucket_admin[&lt;<varname>bucket
                      name</varname>&gt; or '*'], views_admin[&lt;<varname>bucket name</varname>&gt;
                    or '*']</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19715" format="html"
                    scope="external">MB-19715</xref></entry>
                <entry>When using RAW in N1QL query with the ORDER BY clause, the output result set
                  is not sorted. <p><b>Workaround:</b><ul>
                      <li>Use client side sorting. </li>
                      <li>Don't use RAW and work with the default JSON output which is sorted with
                        ORDER BY. </li>
                    </ul></p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19706" format="html"
                    scope="external">MB-19706</xref><p><xref
                      href="http://www.couchbase.com/issues/browse/MB-19806" format="html"
                      scope="external">MB-19806</xref></p></entry>
                <entry>Online upgrade from 2.x or 3.x versions to 4.5 may fail.
                      <p><b>Workaround:</b> Upgrade to version 4.0/4.1 first, and then upgrade to
                    the latest 4.5. For more information, see the supported <xref
                      href="../install/upgrade-matrix.dita"/>.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19599" format="html"
                    scope="external">MB-19599</xref></entry>
                <entry>The Server Web Console UI and REST API over HTTPS doesn't work for center web
                  clients like <xref href="https://www.chromestatus.com/feature/5682529109540864"
                    format="html" scope="external">Chrome 50</xref> or higher that send elliptic
                  curve X25519 requests for TLS. <p><b>Workaround:</b> Use other browsers that do
                    not use X25519 such as Firefox, Internet Explorer, or Chrome (version 49 or
                    below).</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19582" format="html"
                    scope="external">MB-19582</xref></entry>
                <entry>Backing up a cluster when rebalance is in progress causes an
                      error.<p><b>Workaround:</b> Wait for the rebalance to complete before taking a
                    backup. </p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19432" format="html"
                    scope="external">MB-19432</xref></entry>
                <entry>Rebalancing during indexing with 5 or more indexes and replicas is observed
                  to be slow.<p><b>Workaround:</b> Allow sufficient time for rebalance to complete.
                    You may want to consider deleting indexes before rebalancing if that is an
                    option.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19319" format="html"
                    scope="external">MB-19319</xref></entry>
                <entry>On SuSE 11, log collection from the UI hangs. <p><b>Workaround:</b> Run
                      <cmdname>cbcollect_info</cmdname> from the command line instead.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19271" format="html"
                    scope="external">MB-19271</xref></entry>
                <entry>Idle nodes with the search service were observed to suddenly consume 100%
                      CPU.<p><b>Workaround:</b> This behavior typically occurs every 8 hours and the
                    CPU usage typically returns to normal levels in a few minutes. Consider
                    adjusting the ForestDB compaction settings to trigger more frequent compactions
                    or run compactions when the cluster is idle.</p></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-17433" format="html"
                    scope="external">MB-17433</xref></entry>
                <entry>An error is thrown when trying to create more than 10 full text indexes.
                      <p><b>Workaround:</b> Try reducing the setting
                      <parmname>maxPartitionsPerPIndex</parmname> to a number lower than 32
                    (default), such as 16. </p></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
<p outputclass="h3"><b>Fixed Issues</b></p>
        <table frame="all" rowsep="1" colsep="1" id="table_n1b_rv1_2t2">
          <tgroup cols="2">
            <colspec colnum="1" colname="col1" colwidth="1*"/>
            <colspec colnum="2" colname="col2" colwidth="3*"/>
            <tbody>
              <row>
                <entry><b>Issue</b></entry>
                <entry><b>Description</b></entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19503" format="html"
                    scope="external">MB-19503</xref></entry>
                <entry>Pauses in creating and closing a DCP stream were observed even if there were
                  just a few mutations.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-19369" format="html"
                    scope="external">MB-19369</xref></entry>
                <entry>Index path was case sensitive and caused trouble when communicating with the
                  indexer.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18975" format="html"
                    scope="external">MB-18975</xref></entry>
                <entry>On a multi-node cluster, two cbq shell sessions connected to distinct nodes
                  could have a window where index metadata was not fully synchronized.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18935" format="html"
                    scope="external">MB-18935</xref></entry>
                <entry>When XDCR replication experiences issues with connections to target, it
                  recovers by dropping the existing connection and setting up new connections.
                  Sometimes the attempt to set up new connections failed with
                    "<systemoutput>connections reset by peer</systemoutput>" error.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-18096" format="html"
                    scope="external">MB-18096</xref></entry>
                <entry>When adding a node to the cluster, <cmdname>add-node</cmdname> did not
                  correctly deploy the services selected.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-17485" format="html"
                    scope="external">MB-17485</xref></entry>
                <entry>When using <cmdname>cbtransfer</cmdname> to move data between buckets, a
                    "<systemoutput>pump_mc fail</systemoutput>" error message was observed.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-17446" format="html"
                    scope="external">MB-17446</xref></entry>
                <entry>During a delta node recovery, rebalance did not complete if the nodes were
                  down.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-17009" format="html"
                    scope="external">MB-17009</xref></entry>
                <entry>ForestDB would hang during initial index build.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16947" format="html"
                    scope="external">MB-16947</xref></entry>
                <entry>ForestDB files were not deleted from disk if index drop was executed when
                  index building was in progress.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16831" format="html"
                    scope="external">MB-16831</xref></entry>
                <entry>When using GSI, the interactive query shell, cbq, timed out if the result was
                  not returned within 2 minutes. Although the index was successfully created, the
                  error message is unclear.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16766" format="html"
                    scope="external">MB-16766</xref></entry>
                <entry>Starting Couchbase Server on an undersized AWS instance can result in the
                  server continually crashing and restarting.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16656" format="html"
                    scope="external">MB-16656</xref></entry>
                <entry>Rebalancing failed when replica indexes were enabled on Views as the data
                  service was returning an incorrect high sequence number to the View
                  engine.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16618" format="html"
                    scope="external">MB-16618</xref></entry>
                <entry>View queries with the options reduce and group set to true when parameterized
                  by a list of keys that are not in ascending order can produce results that are not
                  properly reduced.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16385" format="html"
                    scope="external">MB-16385</xref></entry>
                <entry>Querying a view with a reduce function based on a subset of partitions
                  resulted in a massive memory usage.</entry>
              </row>
              <row>
                <entry><xref href="http://www.couchbase.com/issues/browse/MB-16085" format="html"
                    scope="external">MB-16085</xref></entry>
                <entry>When view building was in progress, and the view is dropped, indexing still
                  continued to happen consuming CPU resources.</entry>
              </row>
            </tbody>
          </tgroup>
        </table><p>For the full list of issues, check the following <xref
            href="https://issues.couchbase.com/issues/?jql=project%20%3D%20MB%20AND%20issuetype%20%3D%20Bug%20AND%20affectedVersion%20%3D%204.1.0%20and%20fixVersion%20%3E%3D%204.5.0%20and%20fixVersion%20!%3D%204.1.1%20and%20fixVersion%20!%3D%204.1.2%20and%20%28%28priority%20%3D%20Critical%29%20or%20%28priority%20%3D%20Major%29%29%20and%20%28%28status%20%3D%20Closed%29%20or%20%28status%20%3D%20Resolved%29%29"
            format="html" scope="external">JIRA query</xref>.</p>
      <p outputclass="h3"><b>Deprecated Items</b></p>
        <p>The following functionality is deprecated, will be deprecated or is unsupported.</p><p>
          <table frame="all" rowsep="1" colsep="1" id="table_bl3_533_1v">
            <tgroup cols="2">
              <colspec colname="c1" colnum="1" colwidth="1*"/>
              <colspec colname="c2" colnum="2" colwidth="3*"/>
              <thead>
                <row>
                  <entry>Function</entry>
                  <entry>Description</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><codeph>BASE64()</codeph>
                  </entry>
                  <entry>The <codeph>BASE64()</codeph> function is deprecated in this release; use
                    the function <codeph>BASE64_ENCODE()</codeph> instead. <p>Also, use the
                        <codeph>BASE64_DECODE()</codeph> function to reverse the encoding done by
                        <codeph>BASE64_ENCODE().</codeph></p></entry>
                </row>
                <row>
                  <entry>Server-side moxi <xref
                      href="http://developer.couchbase.com/documentation/server/4.0/install/install-client-server.html"
                      format="html" scope="external">proxy</xref> is deprecated in 4.5</entry>
                  <entry>Use Couchbase client SDKs or client-side moxi in your applications.</entry>
                </row>
                <row>
                  <entry>CRAM-MD5 for bucket authentication</entry>
                  <entry>Use SCRAM protocol supporting clients for bucket authentication in
                    Couchbase Server version 4.5. SCRAM protocol for bucket authentication will
                    first be introduced in Java, followed by other SDK clients. </entry>
                </row>
                <row>
                  <entry>Deprecate XDCR API from <filepath>/internalSettings</filepath> REST
                    endpoint in 4.5</entry>
                  <entry><filepath>/Settings/replications</filepath> REST endpoint will be available
                    for all replication settings and provides the same functionality.</entry>
                </row>
                <row>
                  <entry>N1QL: Deprecated the use of path-expressions in <codeph>FROM</codeph> and
                      <codeph>JOIN</codeph> clauses.</entry>
                  <entry>FROM and JOIN clauses should use only keyspaces. Paths can be used for
                    expressions in other clauses, operators, projections, and so on.<p> For example:
                      <codeblock>SELECT count(*) FROM `travel-sample`.schedule; </codeblock> can be
                      rewritten as:
                      <codeblock>SELECT count(*)  FROM `travel-sample` WHERE schedule IS NOT MISSING;</codeblock></p></entry>
                </row>
                <row>
                  <entry>CAPI based XDCR is deprecated.</entry>
                  <entry>CAPI based XDCR is deprecated and will be removed in a future version of
                    Couchbase Server. <p>Note that the support for Elasticsearch Plugin has not been
                      removed. However, the Elasticsearch Plugin may be modified in the future to
                      use an alternative connection method such as DCP or XMEM XDCR (XDCR
                    v2).</p></entry>
                </row>
                <row>
                  <entry>Couchbase Enterprise Backup and Restore tool</entry>
                  <entry>The tools, <codeph>cbbackup</codeph> and <codeph>cbrestore</codeph>, are
                    deprecated from the Enterprise Edition. We recommend replacing these old tools
                    with the new enterprise backup and restore tool, <xref
                      href="../backup-restore/cbbackupmgr.dita">cbbackupmgr</xref>, in version
                    4.5.</entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </p><p><b>Unsupported Platforms</b></p><p>The following platforms are no longer supported: <ul>
            <li>Microsoft Windows 32-bit OS </li>
            <li>Mac OS 10.8</li>
          </ul></p>
      
    </section>
  </body>
</topic>
