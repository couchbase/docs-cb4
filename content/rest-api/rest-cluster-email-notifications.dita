<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xml:lang="en-us" id="rest-cluster-alerts">
    <title>Setting Email Notifications</title>
    <shortdesc>Alert settings specify whether email alerts are sent and the events that 
        trigger emails. This is a global setting for all clusters. Authentication is required to
        read this value.</shortdesc>
    
    <reference id="rest-cluster-alerts-get">
        <title>Getting Alert Settings</title>
        <p>
          Email alerts can be dispatched automatically when a significant error occurs &#8212; see <xref href="../settings/configure-alerts.dita" scope="local" />.
        </p>
        <refbody>
            <section><title>HTTP method and URI</title>
                <codeblock>GET /settings/alerts</codeblock>
            </section>
            
            <section>
                <title>Syntax</title>
                <p>Curl request syntax:</p>
                <codeblock>curl -u [admin]:[password ]
    http://[localhost]:8091/settings/alerts</codeblock>
                <p>Raw HTTP request syntax:</p>
                <codeblock>GET /settings/alerts HTTP/1.1
Host: [localhost]:8091
Authorization: Basic YWRtaW46YWRtaW4= Accept: */*</codeblock>
            </section>
            
            
            <section><title>Example</title>
                <p>Curl request example:</p>
                <codeblock>curl -u Administrator:password 
    http://10.5.2.54:8091/settings/alerts</codeblock>
                
                <p>Raw HTTP request example:</p>
                <codeblock>GET /settings/alerts HTTP/1.1
Host: 10.5.2.54:8091
Authorization: Basic YWRtaW46YWRtaW4= Accept: */*</codeblock>
            </section>
            
            <section><title>Response</title>
        
        <codeblock>{
    "alerts": [
        "auto_failover_node", 
        "auto_failover_maximum_reached", 
        "auto_failover_other_nodes_down", 
        "auto_failover_cluster_too_small", 
        "ip", 
        "disk", 
        "overhead", 
        "ep_oom_errors", 
        "ep_item_commit_failed"
    ], 
    "emailServer": {
        "encrypt": false, 
        "host": "localhost", 
        "pass": "", 
        "port": 25, 
        "user": ""
    }, 
    "enabled": false, 
    "recipients": [
        "root@localhost"
    ], 
    "sender": "couchbase@localhost"
}</codeblock>
                <note>For security reasons, the <codeph>pass</codeph> field of the <codeph>emailServer</codeph> is always empty.</note>
            </section>
            
            <section><title>Response codes</title>
        <p>Possible errors include:</p>
        <codeblock>This endpoint isn't available yet.</codeblock>
            </section>
        </refbody>
        </reference>

    </reference>
