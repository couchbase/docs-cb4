<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_h12_hqn_vs">
  <title>Cluster Settings</title><shortdesc>The <b>Settings</b> menu sets the global settings for your Couchbase Server instance.
    Full Administrators and Cluster Administrators can configure cluster settings.</shortdesc>
  <body>
    
    <p>Use the <b>Cluster</b> tab to configure the cluster name, RAM quota, and Index settings. </p>
    <p><image href="../admin/picts/settings-cluster.png" id="image_dcr_5zz_zs" align="left"
        width="720"/></p>
    <section><title>Configure Cluster</title><p>You can set the cluster settings:</p> <p>
        <table frame="all" rowsep="1" colsep="1" id="table_mmz_d4r_yx">
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.0*"/>
            <thead>
              <row>
                <entry>Setting</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>Cluster Name</entry>
                <entry>
                  <p>The name that was given during the initial setup, which you can edit in the UI,
                    change with the CLI command or with a call to the REST API: </p>
                  <codeblock>couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-name="New Cluster Name" </codeblock>
                  <p>or</p>
                  <codeblock>curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d clusterName="New Cluster Name"</codeblock>
                </entry>
              </row>
              <row>
                <entry>Certificate</entry>
                <entry>The self-signed SSL certificate that is deployed across the cluster on each
                  node. It is provided to set up secure communication in an XDCR environment, all
                  nodes in a cluster have the same certificate. Click to display the certificate. It
                  is also possible to retrieve the certificate using the <xref
                    href="../rest-api/rest-xdcr-data-encrypt.dita#rest-xdcr-data-encrypt">REST
                    API</xref> or save to a file with the CLI
                    command:<codeblock>couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-name="New Cluster Name" </codeblock><p>or</p><codeblock>curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d clusterName="New Cluster Name"</codeblock>You
                  can re-generate he SSL certificate by clicking on
                    <uicontrol>Regenerate</uicontrol>, trigger a new SSL certificate with the <xref
                    href="../rest-api/rest-xdcr-data-encrypt.dita#rest-xdcr-data-encrypt">REST
                    API</xref> or generate a new certificate and save it to a file with the CLI
                  command: <p>Example: </p><p>
                    <codeblock>curl -u Admin:Pass -X POST http://localhost:8091/controller/regenerateCertificate</codeblock>
                  </p><p>or</p><p>
                    <codeblock>couchbase-cli ssl-manage -c localhost -u Admin -p Pass --regenerate-cert=/tmp/cert.file </codeblock>
                  </p><note>SSL Encryption is only available in the Enterprise Edition of Couchbase
                    Server.</note></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p></section>
    <section>
      <title>Cluster RAM Quota</title>
     <p>You can set the following RAM settings:</p> <p>
        <table frame="all" rowsep="1" colsep="1" id="table_zcg_g4r_yx">
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.0*"/>
            <thead>
              <row>
                <entry>Setting</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>RAM Available</entry>
                <entry>The per node RAM that is available to Couchbase services limited to the
                  smallest node in the cluster.</entry>
              </row>
              <row>
                <entry>Data RAM Quota</entry>
                <entry>The per node memory allocation for the key-value cache used by the data
                  service. At a minimum, it cannot be made smaller than the sum per node bucket
                  quota of all buckets combined. This value can be adjusted in the UI, with the CLI
                  or with the REST API.
                    <p>Example:</p><codeblock> couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-ramsize=600 </codeblock><p>or</p><codeblock>curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d memoryQuota=600</codeblock></entry>
              </row>
              <row>
                <entry>Index RAM Quota</entry>
                <entry>This setting controls the buffer cache size of the index storage layer. The
                  specified memory is pre-allocated as soon as the indexer starts up, and is shared
                  with all indexes created on the node. The total memory usage of the indexer
                  process will be the buffer cache plus the size of various internal data structures
                  and queues. You can adjust the per-node memory in the UI, with the CLI command or
                  with the REST
                    API.<p>Example</p><codeblock>couchbase-cli setting-cluster -c localhost -u Admin -p Pass --cluster-index-ramsize=300 </codeblock><p>or</p><codeblock>curl -u Admin:Pass -X POST http://localhost:8091/pools/default -d indexMemoryQuota=300</codeblock></entry>
              </row>
              <row>
                <entry>Full Text RAM Quota</entry>
                <entry>This setting controls the RAM quota for Full Text search. It shows the amount
                  of the main memory allocation for Full Text service per node.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
      
    </section>
    <section> <title>Index Settings for Global and Memory-Optimized Indexes</title><p>You can set the following index settings:</p>
<p>
        <table frame="all" rowsep="1" colsep="1" id="table_syd_34r_yx">
          <tgroup cols="2">
            <colspec colname="c1" colnum="1" colwidth="1.0*"/>
            <colspec colname="c2" colnum="2" colwidth="3.0*"/>
            <thead>
              <row>
                <entry>Setting</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>Indexer Threads</entry>
                <entry>The number of dedicated threads used by the Index Service. The number can be
                  increased on multi-core machines to increase the amount of CPU available to the
                  Indexer. The default is 4 and you can adjust it in the UI or with the REST API.
                    <p>Example:
                  </p><codeblock>curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d indexerThreads=3</codeblock></entry>
              </row>
              <row>
                <entry>Max Rollback Points</entry>
                <entry>Maximum number of the committed rollback points. The default is 5 and you can
                  adjust it in the UI or with the REST
                  API.<p>Example:</p><codeblock>curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d maxRollbackPoints=6</codeblock></entry>
              </row>
              <row>
                <entry>Indexer Log Level</entry>
                <entry>Adjust the logging level from least to most verbose, the options are
                    <codeph>Silent</codeph>, <codeph>Fatal</codeph>, <codeph>Error</codeph>,
                    <codeph>Warn</codeph>, <codeph>Info</codeph>, <codeph>Verbose</codeph>,
                    <codeph>Timing</codeph>, <codeph>Debug</codeph>, and <codeph>Trace</codeph>,
                  with the default being <codeph>Debug</codeph>. It is advised to leave this setting
                  as the default unless Couchbase Support directs you to change it.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
  <!--  <dl>
      <dlentry>
        <dt>In Memory Snapshot Interval</dt>
        <dd>Frequency of in-memory snapshots which determines the earliest possibility an indexer
            scan can discover a data service Key/Value mutation. The default is 200 milliseconds and
            you  can adjust it in the UI or with the REST API.
            <p>Example:</p><codeblock>curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d memorySnapshotInterval=300</codeblock></dd>
      </dlentry>
    </dl> --> 
   <!-- <dl>
      <dlentry>
        <dt> Stable Snapshot Interval</dt>
        <dd>Frequency of a persisted snapshot for recovery. The default is 5000 milliseconds and you
            can adjust it in the UI or with the REST API.
            <p>Example:</p><codeblock>curl -X POST -u Admin:Pass http://localhost:8091/settings/indexes -d stableSnapshotInterval=4000</codeblock></dd>
      </dlentry>
    </dl> -->    
      </section>
      
  
  </body>
  <related-links>
    <link href="../security/concepts-rba.dita#concept_ntl_jph_hr"/>
  </related-links>
</topic>
